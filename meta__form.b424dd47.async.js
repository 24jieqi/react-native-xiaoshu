"use strict";(self.webpackChunk_fruits_chain_react_native_xiaoshu=self.webpackChunk_fruits_chain_react_native_xiaoshu||[]).push([[6143],{48155:function(l,r,n){var a;n.r(r),n.d(r,{demos:function(){return x}});var F=n(15009),s=n.n(F),h=n(99289),c=n.n(h),t=n(67294),y=n(10255),p=n(1078),v=n(77884),I=n(1416),x={"src-form-demo-base":{component:t.memo(t.lazy(function(){return n.e(2433).then(n.bind(n,54723))})),asset:{type:"BLOCK",id:"src-form-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(86081).Z},react:{type:"NPM",value:"18.3.1"},"@fruits-chain/react-native-xiaoshu":{type:"NPM",value:"0.4.7"}},entry:"index.tsx",description:"\u7ED9 Form.Item \u6DFB\u52A0\u6821\u9A8C\u89C4\u5219\uFF0Cform \u8868\u5355\u5B9E\u4F8B\u5173\u8054\u8868\u5355\u5E76\u64CD\u4F5C\u6570\u636E\u3002",title:"\u57FA\u7840\u4F7F\u7528"},context:{react:a||(a=n.t(t,2)),"@fruits-chain/react-native-xiaoshu":p},renderOpts:{compile:function(){var m=c()(s()().mark(function u(){var o,d=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4019).then(n.bind(n,4019));case 2:return e.abrupt("return",(o=e.sent).default.apply(o,d));case 3:case"end":return e.stop()}},u)}));function i(){return m.apply(this,arguments)}return i}()}},"src-form-demo-ref":{component:t.memo(t.lazy(function(){return n.e(2433).then(n.bind(n,66794))})),asset:{type:"BLOCK",id:"src-form-demo-ref",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(71125).Z},react:{type:"NPM",value:"18.3.1"},"@fruits-chain/react-native-xiaoshu":{type:"NPM",value:"0.4.7"}},entry:"index.tsx",description:"\u901A\u8FC7 ref \u5173\u8054\u8868\u5355\u5B9E\u4F8B\u3002",title:"ref \u4F7F\u7528"},context:{react:a||(a=n.t(t,2)),"@fruits-chain/react-native-xiaoshu":p},renderOpts:{compile:function(){var m=c()(s()().mark(function u(){var o,d=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4019).then(n.bind(n,4019));case 2:return e.abrupt("return",(o=e.sent).default.apply(o,d));case 3:case"end":return e.stop()}},u)}));function i(){return m.apply(this,arguments)}return i}()}},"src-form-demo-context":{component:t.memo(t.lazy(function(){return n.e(2433).then(n.bind(n,44151))})),asset:{type:"BLOCK",id:"src-form-demo-context",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(61504).Z},react:{type:"NPM",value:"18.3.1"},"@fruits-chain/react-native-xiaoshu":{type:"NPM",value:"0.4.7"}},entry:"index.tsx",description:"\u4F7F\u7528 Form.Provider \u5173\u8054\u4E24\u4E2A\u72EC\u7ACB\u8868\u5355\u3002",title:"Form.Provider"},context:{react:a||(a=n.t(t,2)),"react-native":v,"@fruits-chain/react-native-xiaoshu":p},renderOpts:{compile:function(){var m=c()(s()().mark(function u(){var o,d=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4019).then(n.bind(n,4019));case 2:return e.abrupt("return",(o=e.sent).default.apply(o,d));case 3:case"end":return e.stop()}},u)}));function i(){return m.apply(this,arguments)}return i}()}},"src-form-demo-deps":{component:t.memo(t.lazy(function(){return n.e(2433).then(n.bind(n,60677))})),asset:{type:"BLOCK",id:"src-form-demo-deps",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(51298).Z},react:{type:"NPM",value:"18.3.1"},"@fruits-chain/react-native-xiaoshu":{type:"NPM",value:"0.4.7"}},entry:"index.tsx",description:"\u4F7F\u7528 dependencies \u52A8\u6001\u6E32\u67D3\u3002",title:"dependencies"},context:{react:a||(a=n.t(t,2)),"@fruits-chain/react-native-xiaoshu":p},renderOpts:{compile:function(){var m=c()(s()().mark(function u(){var o,d=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4019).then(n.bind(n,4019));case 2:return e.abrupt("return",(o=e.sent).default.apply(o,d));case 3:case"end":return e.stop()}},u)}));function i(){return m.apply(this,arguments)}return i}()}},"src-form-demo-list":{component:t.memo(t.lazy(function(){return n.e(2433).then(n.bind(n,38912))})),asset:{type:"BLOCK",id:"src-form-demo-list",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(70575).Z},react:{type:"NPM",value:"18.3.1"},"@fruits-chain/react-native-xiaoshu":{type:"NPM",value:"0.4.7"},"@fruits-chain/icons-react-native":{type:"NPM",value:"0.1.14"}},entry:"index.tsx",description:"\u4F7F\u7528 Form.List \u6E32\u67D3\u4E00\u7EC4\u63A7\u4EF6\u3002",title:"Form.List"},context:{react:a||(a=n.t(t,2)),"@fruits-chain/react-native-xiaoshu":p,"@fruits-chain/icons-react-native":I},renderOpts:{compile:function(){var m=c()(s()().mark(function u(){var o,d=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4019).then(n.bind(n,4019));case 2:return e.abrupt("return",(o=e.sent).default.apply(o,d));case 3:case"end":return e.stop()}},u)}));function i(){return m.apply(this,arguments)}return i}()}},"src-form-demo-use-form-instance":{component:t.memo(t.lazy(function(){return n.e(2433).then(n.bind(n,74218))})),asset:{type:"BLOCK",id:"src-form-demo-use-form-instance",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(12903).Z},react:{type:"NPM",value:"18.3.1"},"@fruits-chain/react-native-xiaoshu":{type:"NPM",value:"0.4.7"}},entry:"index.tsx",description:"\u83B7\u53D6\u5F53\u524D\u4E0A\u4E0B\u6587\u6B63\u5728\u4F7F\u7528\u7684 Form \u5B9E\u4F8B\uFF0C\u5E38\u89C1\u4E8E\u5C01\u88C5\u5B50\u7EC4\u4EF6\u6D88\u8D39\u65E0\u9700\u900F\u4F20 Form \u5B9E\u4F8B\u3002",title:"useFormInstance"},context:{react:a||(a=n.t(t,2)),"@fruits-chain/react-native-xiaoshu":p},renderOpts:{compile:function(){var m=c()(s()().mark(function u(){var o,d=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4019).then(n.bind(n,4019));case 2:return e.abrupt("return",(o=e.sent).default.apply(o,d));case 3:case"end":return e.stop()}},u)}));function i(){return m.apply(this,arguments)}return i}()}}}},45054:function(l,r,n){n.r(r),n.d(r,{texts:function(){return F}});var a=n(10255);const F=[{value:"\u57FA\u4E8E ",paraId:0,tocIndex:0},{value:"rc-field-form",paraId:0,tocIndex:0},{value:" \u7684\u8868\u5355\uFF0C\u4F7F\u7528\u4F53\u9A8C\u5927\u81F4\u4E0E Antd Form \u4E00\u81F4\u3002",paraId:0,tocIndex:0},{value:"\u9002\u7528\u4E8E\u8868\u5355\u573A\u666F\u3002",paraId:1,tocIndex:1},{value:"type Form.useForm = (): [FormInstance]",paraId:2,tocIndex:10},{value:"\u521B\u5EFA Form \u5B9E\u4F8B\uFF0C\u7528\u4E8E\u7BA1\u7406\u6240\u6709\u6570\u636E\u72B6\u6001\u3002",paraId:3,tocIndex:10},{value:"0.2.50+",paraId:4,tocIndex:10},{value:"type Form.useFormInstance = (): FormInstance",paraId:5,tocIndex:11},{value:"\u83B7\u53D6\u5F53\u524D\u4E0A\u4E0B\u6587\u6B63\u5728\u4F7F\u7528\u7684 Form \u5B9E\u4F8B\uFF0C\u5E38\u89C1\u4E8E\u5C01\u88C5\u5B50\u7EC4\u4EF6\u6D88\u8D39\u65E0\u9700\u900F\u4F20 Form \u5B9E\u4F8B\u3002",paraId:6,tocIndex:11},{value:`const Sub = () => {
  const form = Form.useFormInstance()

  return <Button onClick={() => form.setFieldsValue({})} />
}

export default () => {
  const [form] = Form.useForm()

  return (
    <Form form={form}>
      <Sub />
    </Form>
  )
}
`,paraId:7,tocIndex:11},{value:"0.2.45+",paraId:8,tocIndex:11},{value:"type Form.useWatch = (namePath: NamePath, formInstance: FormInstance): Value",paraId:9,tocIndex:12},{value:"\u7528\u4E8E\u76F4\u63A5\u83B7\u53D6 form \u4E2D\u5B57\u6BB5\u5BF9\u5E94\u7684\u503C\u3002\u901A\u8FC7\u8BE5 Hooks \u53EF\u4EE5\u4E0E\u8BF8\u5982 useSWR \u8FDB\u884C\u8054\u52A8\u4ECE\u800C\u964D\u4F4E\u7EF4\u62A4\u6210\u672C\u3002",paraId:10,tocIndex:12},{value:`const Demo = () => {
  const [form] = Form.useForm()
  const userName = Form.useWatch('username', form)

  const { data: options } = useSWR(\`/api/user/\${userName}\`, fetcher)

  return (
    <Form form={form}>
      <Form.Item name="username">
        <AutoComplete options={options} />
      </Form.Item>
    </Form>
  )
}
`,paraId:11,tocIndex:12}]},86081:function(l,r){r.Z=`import React from 'react'
import {
  Card,
  Form,
  Field,
  Button,
  Toast,
  Space,
} from '@fruits-chain/react-native-xiaoshu'

const BasicFormBase: React.FC = () => {
  const [form] = Form.useForm()

  return (
    <Card title="\u7528\u6237\u767B\u5F55 useForm" square>
      <Form
        form={form}
        onFinish={values => {
          console.log(values)
          Toast(JSON.stringify(values))
        }}
        initialValues={{
          AAA: 'CCC',
        }}>
        <Form.Item
          name="username"
          rules={[
            {
              required: true,
              message: '\u8BF7\u8F93\u5165\u7528\u6237\u540D',
            },
            {
              validator: (_, v) => {
                console.log(v)
                return Promise.resolve()
              },
            },
          ]}
          validateTrigger="onEndEditing">
          <Field.TextInput required title="\u7528\u6237\u540D" placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u540D" />
        </Form.Item>
        <Form.Item
          name="password"
          rules={[
            {
              required: true,
              message: '\u8BF7\u8F93\u5165\u5BC6\u7801',
            },
          ]}>
          <Field.TextInput
            required
            secureTextEntry
            title="\u5BC6\u7801"
            placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801"
          />
        </Form.Item>
        <Form.Item dependencies={['password']}>
          {({ getFieldValue, setFieldsValue }) => {
            console.log(getFieldValue('password'))
            return (
              <Form.Item name="password333">
                <Field.TextInput
                  title="\u5176\u4ED6"
                  placeholder="\u8BF7\u8F93\u5165\u5176\u4ED6"
                  onChange={t => {
                    console.log('set AAA')
                    setFieldsValue({
                      AAA: t,
                    })
                  }}
                />
              </Form.Item>
            )
          }}
        </Form.Item>

        <Space head>
          <Button
            text="\u7BA1\u7406\u5458"
            danger
            onPress={() => {
              form.setFieldsValue({
                username: 'admin',
              })
            }}
          />

          <Button text="\u63D0\u4EA4" type="primary" onPress={form.submit} />

          <Button
            text="\u91CD\u7F6E"
            type="ghost"
            onPress={() => {
              form.resetFields(['username', 'password'])
            }}
          />
          <Button
            text="\u91CD\u7F6E\u6240\u6709"
            type="ghost"
            onPress={() => {
              form.resetFields(['username', 'password', 'password333'])
            }}
          />
          <Button
            text="\u6821\u9A8C username"
            type="ghost"
            onPress={() => {
              form
                .validateFields(['username'])
                .then(d => {
                  console.log(d)
                })
                .catch(e => {
                  console.log(e)
                })
            }}
          />
        </Space>
      </Form>
    </Card>
  )
}

export default BasicFormBase
`},61504:function(l,r){r.Z=`import React from 'react'
import { Text } from 'react-native'
import {
  Card,
  Form,
  Field,
  Button,
  Space,
} from '@fruits-chain/react-native-xiaoshu'

const FormOne: React.FC = () => {
  const [form] = Form.useForm()

  return (
    <Form form={form} name="one">
      <Card title="form 1" square>
        <Form.Item
          name="username"
          rules={[
            {
              required: true,
            },
          ]}>
          <Field.TextInput required title="\u7528\u6237\u540D" placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u540D" />
        </Form.Item>
        <Form.Item
          name="password"
          rules={[
            {
              required: true,
            },
          ]}>
          <Field.TextInput required title="\u5BC6\u7801" placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801" />
        </Form.Item>
        <Space head>
          <Button text="\u63D0\u4EA4" type="primary" onPress={form.submit} />
        </Space>
      </Card>
    </Form>
  )
}

const FormTwo: React.FC = () => {
  const [form] = Form.useForm()

  return (
    <Form form={form} name="two">
      <Card title="form 2" square>
        <Form.Item
          name="username"
          rules={[
            {
              required: true,
            },
          ]}>
          <Field.TextInput required title="\u7528\u6237\u540D" placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u540D" />
        </Form.Item>
        <Form.Item
          name="password"
          rules={[
            {
              required: true,
            },
          ]}>
          <Field.TextInput required title="\u5BC6\u7801" placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801" />
        </Form.Item>
        <Space head>
          <Button text="\u63D0\u4EA4" type="primary" onPress={form.submit} />
        </Space>
      </Card>
    </Form>
  )
}

const BasicFormContext: React.FC = () => {
  return (
    <Card title="Form Context" square>
      <Form.Provider
        onFormChange={(name, { changedFields, forms }) => {
          console.log('change from:', name, changedFields, forms)
          if (name === 'one') {
            forms.two.setFields(changedFields)
          }
        }}
        onFormFinish={(name, { values, forms }) => {
          console.log('finish from:', name, values, forms)
          if (name === 'two') {
            forms.one.setFieldsValue(values)
          }
        }}>
        <Space>
          <Text>
            Support global \`validateMessages\` config and communication between
            forms.
          </Text>

          <FormOne />
          <FormTwo />
        </Space>
      </Form.Provider>
    </Card>
  )
}

export default BasicFormContext
`},51298:function(l,r){r.Z=`import React from 'react'
import { Card, Form, Field } from '@fruits-chain/react-native-xiaoshu'

let index = 0

const BasicFormDeps: React.FC = () => {
  return (
    <Card title="dependencies" square>
      <Form>
        <Form.Item dependencies={['username']}>
          {() => {
            index += 1
            return <Field.Text title="\u66F4\u65B0\u7528\u6237\u540D\u91CD\u65B0\u6E32\u67D3\u6B21\u6570" value={index} />
          }}
        </Form.Item>
        <Form.Item name="username">
          <Field.TextInput required title="\u7528\u6237\u540D" placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u540D" />
        </Form.Item>
        <Form.Item name="password">
          <Field.TextInput
            required
            title="\u5BC6\u7801"
            placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801"
            divider={false}
          />
        </Form.Item>
      </Form>
    </Card>
  )
}

export default BasicFormDeps
`},70575:function(l,r){r.Z=`import React from 'react'
import {
  Card,
  Form,
  Field,
  Button,
  Toast,
  Dialog,
  Space,
} from '@fruits-chain/react-native-xiaoshu'
import { DeleteFill } from '@fruits-chain/icons-react-native'

const BasicFormList: React.FC = () => {
  const [form] = Form.useForm()

  return (
    <Card title="List" square>
      <Form
        form={form}
        onFinish={values => {
          console.log(values)
          Toast(JSON.stringify(values))
        }}>
        <Form.Item
          name="username"
          rules={[
            {
              required: true,
              message: '\u8BF7\u8F93\u5165\u7528\u6237\u540D',
            },
          ]}>
          <Field.TextInput
            required
            title="\u7528\u6237\u540D"
            placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u540D"
            divider={false}
          />
        </Form.Item>

        <Form.List name="address">
          {(fields, { add, remove }) => {
            return (
              <>
                {fields.map((field, fieldIndex) => {
                  return (
                    <Card
                      key={field.key}
                      title={\`\u5730\u5740 \${fieldIndex + 1}\`}
                      extra={
                        <DeleteFill
                          onPress={() => {
                            Dialog.confirm({
                              title: '\u63D0\u793A',
                              message: '\u786E\u5B9A\u8981\u5220\u9664\uFF1F',
                              confirmButtonColor: '#f30',
                              confirmButtonText: '\u5220\u9664',
                            })
                              .then(data => {
                                if (data === 'confirm') {
                                  remove(fieldIndex)
                                }
                              })
                              .catch(() => {})
                          }}
                        />
                      }>
                      <Form.Item
                        name={[field.name, 'code']}
                        rules={[
                          {
                            required: true,
                            message: '\u8BF7\u8F93\u5165\u90AE\u7F16',
                          },
                        ]}>
                        <Field.TextInput
                          required
                          title="\u90AE\u7F16"
                          placeholder="\u8BF7\u8F93\u5165\u90AE\u7F16"
                        />
                      </Form.Item>
                      <Form.Item
                        name={[field.name, 'city']}
                        rules={[
                          {
                            required: true,
                            message: '\u8BF7\u8F93\u5165\u57CE\u5E02',
                          },
                        ]}>
                        <Field.TextInput
                          required
                          title="\u57CE\u5E02"
                          placeholder="\u8BF7\u8F93\u5165\u57CE\u5E02"
                          divider={false}
                        />
                      </Form.Item>
                    </Card>
                  )
                })}
                <Button
                  text="\u65B0\u589E\u5730\u5740"
                  color="#780"
                  onPress={() => {
                    add({})
                  }}
                />
              </>
            )
          }}
        </Form.List>

        <Space head>
          <Button text="\u63D0\u4EA4" type="primary" onPress={form.submit} />
        </Space>
      </Form>
    </Card>
  )
}

export default BasicFormList
`},71125:function(l,r){r.Z=`import React, { useRef } from 'react'
import type { FormInstance } from '@fruits-chain/react-native-xiaoshu'
import {
  Card,
  Form,
  Field,
  Button,
  Toast,
  Space,
} from '@fruits-chain/react-native-xiaoshu'

const BasicFormRef: React.FC = () => {
  const FormRef = useRef<FormInstance>(null)

  return (
    <Card title="\u7528\u6237\u767B\u5F55 useRef" square>
      <Form
        ref={FormRef}
        onFinish={values => {
          console.log(values)
          Toast(JSON.stringify(values))
        }}>
        <Form.Item
          name="username"
          rules={[
            {
              required: true,
              message: '\u8BF7\u8F93\u5165\u7528\u6237\u540D',
            },
          ]}>
          <Field.TextInput required title="\u7528\u6237\u540D" placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u540D" />
        </Form.Item>
        <Form.Item
          name="password"
          rules={[
            {
              required: true,
              message: '\u8BF7\u8F93\u5165\u5BC6\u7801',
            },
          ]}>
          <Field.TextInput
            required
            secureTextEntry
            title="\u5BC6\u7801"
            placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801"
          />
        </Form.Item>

        <Space head>
          <Button
            text="\u7BA1\u7406\u5458"
            danger
            onPress={() => {
              FormRef.current?.setFieldsValue({
                username: 'admin',
              })
            }}
          />

          <Button
            text="\u63D0\u4EA4"
            type="primary"
            onPress={() => {
              FormRef.current?.submit()
            }}
          />
        </Space>
      </Form>
    </Card>
  )
}

export default BasicFormRef
`},12903:function(l,r){r.Z=`import React from 'react'
import {
  Card,
  Form,
  Field,
  Button,
  Toast,
  Space,
} from '@fruits-chain/react-native-xiaoshu'

const BasicFormUseFormInstanceSub = () => {
  const form = Form.useFormInstance()

  return (
    <Button
      text="\u91CD\u7F6E\u6240\u6709"
      type="ghost"
      onPress={() => {
        form.resetFields(['username', 'password', 'password333'])
      }}
    />
  )
}

const BasicFormUseFormInstance: React.FC = () => {
  const [form] = Form.useForm()

  return (
    <Card title="useFormInstance" square>
      <Form
        form={form}
        onFinish={values => {
          console.log(values)
          Toast(JSON.stringify(values))
        }}>
        <Form.Item
          name="username"
          rules={[
            {
              required: true,
              message: '\u8BF7\u8F93\u5165\u7528\u6237\u540D',
            },
          ]}
          validateTrigger="onEndEditing">
          <Field.TextInput required title="\u7528\u6237\u540D" placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u540D" />
        </Form.Item>
        <Form.Item
          name="password"
          rules={[
            {
              required: true,
              message: '\u8BF7\u8F93\u5165\u5BC6\u7801',
            },
          ]}>
          <Field.TextInput
            required
            secureTextEntry
            title="\u5BC6\u7801"
            placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801"
          />
        </Form.Item>
        <Form.Item dependencies={['password']}>
          {({ getFieldValue, setFieldsValue }) => {
            console.log(getFieldValue('password'))
            return (
              <Form.Item name="password333">
                <Field.TextInput
                  title="\u5176\u4ED6"
                  placeholder="\u8BF7\u8F93\u5165\u5176\u4ED6"
                  onChange={t => {
                    console.log('set AAA')
                    setFieldsValue({
                      AAA: t,
                    })
                  }}
                />
              </Form.Item>
            )
          }}
        </Form.Item>

        <Space head>
          <Button text="\u63D0\u4EA4" type="primary" onPress={form.submit} />
          <BasicFormUseFormInstanceSub />
        </Space>
      </Form>
    </Card>
  )
}

export default BasicFormUseFormInstance
`}}]);
