"use strict";(self.webpackChunk_fruits_chain_react_native_xiaoshu=self.webpackChunk_fruits_chain_react_native_xiaoshu||[]).push([[23],{92062:function(o,a,e){var t;e.r(a),e.d(a,{demos:function(){return v}});var r=e(15009),l=e.n(r),s=e(99289),I=e.n(s),d=e(67294),g=e(92857),i=e(77884),c=e(1078),p=e(92989),v={"src-uploader-demo-basic":{component:d.memo(d.lazy(function(){return e.e(2433).then(e.bind(e,66852))})),asset:{type:"BLOCK",id:"src-uploader-demo-basic",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(2883).Z},react:{type:"NPM",value:"18.2.0"},"@fruits-chain/react-native-xiaoshu":{type:"NPM",value:"0.4.4-beta.0"},"@fruits-chain/icons-react-native":{type:"NPM",value:"0.1.9"}},entry:"index.tsx",description:"\u628A\u5404\u79CD\u573A\u666F\u3001API \u90FD\u8FD0\u7528\u4E86",title:"\u7EFC\u5408\u7528\u6CD5"},context:{react:t||(t=e.t(d,2)),"react-native":i,"@fruits-chain/react-native-xiaoshu":c,"@fruits-chain/icons-react-native":p},renderOpts:{compile:function(){var _=I()(l()().mark(function m(){var u,h=arguments;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(4019).then(e.bind(e,4019));case 2:return n.abrupt("return",(u=n.sent).default.apply(u,h));case 3:case"end":return n.stop()}},m)}));function x(){return _.apply(this,arguments)}return x}()}}}},98673:function(o,a,e){e.r(a),e.d(a,{texts:function(){return r}});var t=e(92857);const r=[{value:"\u5C55\u793A\u4E00\u7EC4\u4E0A\u4F20\u6587\u4EF6\uFF0C\u4E0D\u5305\u542B\u4EFB\u4F55\u9009\u62E9\u3001\u4E0A\u4F20\u670D\u52A1\u5668\u7684\u64CD\u4F5C",paraId:0,tocIndex:0},{value:"\u5C5E\u6027\u540D",paraId:1,tocIndex:4},{value:"\u63CF\u8FF0",paraId:1,tocIndex:4},{value:"\u7C7B\u578B",paraId:1,tocIndex:4},{value:"\u9ED8\u8BA4\u503C",paraId:1,tocIndex:4},{value:"\u7248\u672C",paraId:1,tocIndex:4},{value:"list",paraId:1,tocIndex:4},{value:"\u56FE\u7247\u6570\u7EC4",paraId:1,tocIndex:4},{value:"T[]",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"maxCount",paraId:1,tocIndex:4},{value:"\u6587\u4EF6\u4E0A\u4F20\u6570\u91CF\u9650\u5236",paraId:1,tocIndex:4},{value:"number",paraId:1,tocIndex:4},{value:"Number.MAX_SAFE_INTEGER",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"imageComponent",paraId:1,tocIndex:4},{value:"\u56FE\u7247\u5C55\u793A\u7EC4\u4EF6",paraId:1,tocIndex:4},{value:"ComponentType<{source?:ImageSourcePropType, [index: string]:any}>",paraId:1,tocIndex:4},{value:"Image",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"deletable",paraId:1,tocIndex:4},{value:"\u662F\u5426\u5C55\u793A\u5220\u9664\u6309\u94AE",paraId:1,tocIndex:4},{value:"boolean",paraId:1,tocIndex:4},{value:"true",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"showUpload",paraId:1,tocIndex:4},{value:"\u662F\u5426\u5C55\u793A\u4E0A\u4F20\u533A\u57DF",paraId:1,tocIndex:4},{value:"boolean",paraId:1,tocIndex:4},{value:"true",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"uploadText",paraId:1,tocIndex:4},{value:"\u4E0A\u4F20\u533A\u57DF\u6587\u5B57\u63D0\u793A",paraId:1,tocIndex:4},{value:"string",paraId:1,tocIndex:4},{value:"'\u56FE\u7247'",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"uploadIcon",paraId:1,tocIndex:4},{value:"\u4E0A\u4F20\u56FE\u6807",paraId:1,tocIndex:4},{value:"React.ReactNode",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"onPressUpload",paraId:1,tocIndex:4},{value:"\u70B9\u51FB\u9009\u62E9\u6309\u94AE",paraId:1,tocIndex:4},{value:"() => void",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"colCount",paraId:1,tocIndex:4},{value:"\u4E00\u884C\u591A\u5C11\u4E2A\u5217/\u56FE\u7247",paraId:1,tocIndex:4},{value:"number",paraId:1,tocIndex:4},{value:"4",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"colGap",paraId:1,tocIndex:4},{value:"\u5217/\u56FE\u7247\u4E4B\u95F4\u7684\u95F4\u8DDD",paraId:1,tocIndex:4},{value:"number|'s'|'m'|'l'",paraId:1,tocIndex:4},{value:"4",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"onPressImage",paraId:1,tocIndex:4},{value:"\u70B9\u51FB\u67D0\u4E00\u4E2A\u56FE\u7247",paraId:1,tocIndex:4},{value:"(current:T, index:number, list:T[]) => void",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"onPressDelete",paraId:1,tocIndex:4},{value:"\u70B9\u51FB\u5220\u9664\u6587\u4EF6",paraId:1,tocIndex:4},{value:"(current:T, index:number, list:T[]) => void",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"onPressError",paraId:1,tocIndex:4},{value:"\u70B9\u51FB\u4E0A\u4F20\u51FA\u9519\u7684\u6587\u4EF6",paraId:1,tocIndex:4},{value:"(current:T, index:number, list:T[]) => void",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"-",paraId:1,tocIndex:4},{value:"0.2.47+",paraId:2,tocIndex:4},{value:"\u7EE7\u627F UploaderProps \u7684 list\u3001imageComponent\u3001colCount\u3001colGap\u3001onPressImage\u3001onPressDelete\u3001onPressError\u3001deletable\u3002",paraId:3,tocIndex:5},{value:"\u5C5E\u6027\u540D",paraId:4,tocIndex:5},{value:"\u63CF\u8FF0",paraId:4,tocIndex:5},{value:"\u7C7B\u578B",paraId:4,tocIndex:5},{value:"\u9ED8\u8BA4\u503C",paraId:4,tocIndex:5},{value:"\u7248\u672C",paraId:4,tocIndex:5},{value:"count",paraId:4,tocIndex:5},{value:"\u5171\u591A\u5C11\u4E2A\u4E0A\u4F20\uFF0C\u8BF7\u4FDD\u6301\u6570\u7EC4\u5F15\u7528\u4E0D\u53D8\uFF0C\u6570\u7EC4\u53EF\u4EE5\u81EA\u5B9A\u4E49\u6587\u6848\u7B49",paraId:4,tocIndex:5},{value:"number|(RegularCount|null)[]",paraId:4,tocIndex:5},{value:"-",paraId:4,tocIndex:5},{value:"-",paraId:4,tocIndex:5},{value:"onPressUpload",paraId:4,tocIndex:5},{value:"\u70B9\u51FB\u67D0\u4E2A\u6309\u94AE",paraId:4,tocIndex:5},{value:"(index: number) => void",paraId:4,tocIndex:5},{value:"-",paraId:4,tocIndex:5},{value:"-",paraId:4,tocIndex:5},{value:"\u540D\u79F0",paraId:5,tocIndex:6},{value:"\u9ED8\u8BA4\u503C",paraId:5,tocIndex:6},{value:"\u63CF\u8FF0",paraId:5,tocIndex:6},{value:"uploader_image_gap_s",paraId:5,tocIndex:6},{value:"TOKENS.space_2",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_image_gap_m",paraId:5,tocIndex:6},{value:"TOKENS.space_3",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_image_gap_l",paraId:5,tocIndex:6},{value:"TOKENS.space_4",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_image_border_radius",paraId:5,tocIndex:6},{value:"TOKENS.border_radius_s",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_image_delete_size",paraId:5,tocIndex:6},{value:"16",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_image_background_color",paraId:5,tocIndex:6},{value:"TOKENS.gray_2",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_upload_text_color",paraId:5,tocIndex:6},{value:"TOKENS.gray_6",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_upload_text_font_size",paraId:5,tocIndex:6},{value:"TOKENS.font_size_3",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_upload_text_line_height",paraId:5,tocIndex:6},{value:"20",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"uploader_upload_text_margin_top",paraId:5,tocIndex:6},{value:"TOKENS.space_1",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6}]},2883:function(o,a){a.Z=`import React, { useState } from 'react'
import { ScrollView } from 'react-native'

import type { UploaderValue } from '@fruits-chain/react-native-xiaoshu'
import {
  Card,
  Uploader,
  Toast,
  Dialog,
  Space,
} from '@fruits-chain/react-native-xiaoshu'
import {
  ArrowUpOutline,
  ArrowDownOutline,
  CrossFill,
} from '@fruits-chain/icons-react-native'

const BasicUploader: React.FC = () => {
  const [list1, setList1] = useState<UploaderValue[]>([
    {
      key: new Date().getTime().toString(),
      filepath: 'https://img.yzcdn.cn/vant/leaf.jpg',
      deletable: false,
    },
    {
      key: (new Date().getTime() + 1).toString(),
      filepath: 'https://img.yzcdn.cn/vant/tree.jpg',
      status: 'error',
    },
  ])
  const [list2, setList2] = useState<(UploaderValue | null)[]>(
    new Array(10).fill(0).map((_, index) => {
      if (index === 0) {
        return {
          key: new Date().getTime().toString(),
          filepath: 'https://img.yzcdn.cn/vant/leaf.jpg',
          deletable: false,
        }
      }
      return null
    }),
  )

  return (
    <ScrollView>
      <Space head tail>
        <Card title="\u57FA\u7840\u7528\u6CD5" square>
          <Uploader
            list={list1}
            maxCount={10}
            onPressUpload={() => {
              Toast('TODO \u5B9E\u73B0\u9009\u62E9\u6587\u4EF6')

              const key = new Date().getTime().toString()

              setList1(s => [
                ...s,
                {
                  key,
                  filepath: 'https://img.yzcdn.cn/vant/leaf.jpg',
                  status: 'loading',
                },
              ])

              setTimeout(() => {
                setList1(s =>
                  s.map(item => {
                    if (item.key === key) {
                      item.status = 'done'
                    }
                    return item
                  }),
                )
              }, 3000)
            }}
            onPressDelete={(item, _, list) => {
              Dialog.confirm({
                title: '\u63D0\u793A',
                message: '\u786E\u5B9A\u8981\u5220\u9664\uFF1F',
              })
                .then(action => {
                  if (action === 'confirm') {
                    setList1(list.filter(img => img.key !== item.key))
                  }
                })
                .catch(() => {})
            }}
            onPressImage={() => {
              Toast('TODO \u5B9E\u73B0\u9884\u89C8\u6587\u4EF6')
            }}
            onPressError={item => {
              Toast('TODO \u5B9E\u73B0\u4E0A\u4F20\u6587\u4EF6')

              setList1(s =>
                s.map(l => {
                  if (l.key === item.key) {
                    l.status = 'loading'
                  }
                  return l
                }),
              )

              setTimeout(() => {
                setList1(s =>
                  s.map(l => {
                    if (l.key === item.key) {
                      l.status = 'error'
                    }
                    return l
                  }),
                )
              }, 2000)
            }}
          />
        </Card>

        <Card title="\u81EA\u5B9A\u4E49\u56FE\u7247\u95F4\u8DDD" square>
          <Uploader list={list1} colGap={4} />
        </Card>

        <Card title="\u81EA\u5B9A\u4E49\u6587\u6848" square>
          <Uploader list={list1} uploadText="\u4E0A\u4F20\u89C6\u9891" />
        </Card>

        <Card title="\u67E5\u770B\u6A21\u5F0F" square>
          <Uploader list={list1} showUpload={false} deletable={false} />
        </Card>

        <Card title="\u4E0A\u4F20\u56FE\u6807" square>
          <Uploader
            list={list1}
            uploadIcon={<ArrowUpOutline color="#999" />}
            uploadText="\u9009\u62E9"
            colCount={6}
          />
        </Card>

        <Card title="\u56FA\u5B9A\u4E0A\u4F20\u4E2A\u6570" square>
          <Uploader.Regular
            list={list2}
            count={list2.length}
            onPressDelete={(_, index) => {
              Dialog.confirm({
                title: '\u63D0\u793A',
                message: '\u786E\u5B9A\u8981\u5220\u9664\uFF1F',
              })
                .then(action => {
                  if (action === 'confirm') {
                    setList2(s => {
                      const ns = [...s]
                      ns[index] = null

                      return ns
                    })
                  }
                })
                .catch(() => {})
            }}
            onPressUpload={index => {
              Toast('TODO \u5B9E\u73B0\u9009\u62E9\u6587\u4EF6')

              const key = new Date().getTime().toString()

              setList2(s => {
                const ns = [...s]

                ns[index] = {
                  key,
                  filepath: 'https://img.yzcdn.cn/vant/leaf.jpg',
                  status: 'loading',
                }

                return ns
              })

              setTimeout(() => {
                setList2(s =>
                  s.map(item => {
                    if (item?.key === key) {
                      item.status = 'done'
                    }
                    return item
                  }),
                )
              }, 3000)
            }}
          />
        </Card>

        <Card title="\u56FA\u5B9A\u4E0A\u4F20\u4E2A\u6570" square>
          <Uploader.Regular
            list={list2}
            colCount={3}
            count={[
              null,
              { text: '\u6B63\u9762\u67D0\u4E2A\u7167\u7247' },
              null,
              { icon: <ArrowDownOutline /> },
              null,
              { icon: <CrossFill />, text: '\u4FA7\u9762\u67D0\u4E2A\u90E8\u4EF6' },
            ]}
          />
        </Card>
      </Space>
    </ScrollView>
  )
}

export default BasicUploader
`}}]);
